<HTML>
<TITLE>Downloading and Installation</TITLE>

<BODY BGCOLOR="wheat">

<h1>Downloading and installation</h1>

Click <a href="ftp:dealer.tar.gz">here</a> to download the code.  This is
a so-called gzipped tar file.  To install the program on any Unix
platform, do:
<ul>
 <li> gzip -dc dealer.tar.gz | tar xvf -
 <li> cd dealer
 <li> mkdir -p build
 <li> cd build
 <li> cmake ..
 <li> make
</ul>
And you should end up with the <font color=red>dealer</font> executable in
your current working directory.  Then test the program with
<ul>
 <li> make check
</ul>

<P>
In case of failure report shows difference between reference output and test
case output. Following example shows potential output if dealer crashes.
<FONT COLOR="blue">
<PRE>
test_dealer.pl
------------------------------------------------------------------
  TEST   Descr.6c
Error: stderr (Output.6c.err) not matching
--- Refer.6c.err	2020-06-03 21:24:00.639230086 +0300
+++ Output.6c.err	2020-06-03 22:17:53.919172184 +0300
@@ -1,2 +1,4 @@
 -s 1 Descr.6c
+Aborted (core dumped)
 -e -s 1 Descr.6c
+Aborted (core dumped)
Error: output (Output.6c) not matching
-king drops: 0.572475
-finesse: 0.74634
-score king drops: 749.639
-score king drops nv: 513.402
-score finesse: 997.121
-score finesse nv: 673.95
-finesse gains IMPs: 2.37682
-finesse gains IMPs nv: 2.02909
-Generated 1000000 hands
-Produced 110534 hands
-Initial random seed 1
-king drops: 0.573532
-finesse: 0.747711
-score king drops: 751.223
-score king drops nv: 514.457
-score finesse: 999.134
-score finesse nv: 675.279
-finesse gains IMPs: 2.38032
-finesse gains IMPs nv: 2.03196
-Generated 705432 hands
-Produced 77966 hands
-Initial random seed 1
</PRE>
</FONT>
and it would be time to start debugging.

<h1>Portability</H1>

The program has been developed under SunOS on Sun hardware. I (Hans) am a
reasonably competent programmer though, and I expect the program to be
highly portable. The most suspect part is in the initialisation of the
random number generator. The system call used here might need to be
changed on other OSes.

<p> 
There has been a DOS and OS/2 port by Pedl Rau. I tested the speed at
about 9000 hands a second on my 486DX33.  <b>Note:</b> this has been
superseeded by the work from (a.o.) Paul Baxter, Alex Martelli and Danil
Suits.  

<P>
Henk Uijterwaal has compiled his version under Linux (2.0.x and 2.2.x)
without any problem, except that one needed to do:
<blockquote>
<font size=-1>
   ln -s /usr/bin/flex /usr/bin/lex
</font></blockquote>
as flex has succeeded lex on Linux.  On Ultrix, DEC Alpha(OSF), BSDI/3.x
and SGI, the program compiled without any problem.

<P>
A. Martelli <A HREF="mailto:alex@magenta.com">(alex@magenta.com)</A> used
to build and run Dealer on Win/NT and Win/98 with the free Cygwin GCC
C/C++ compiler and Unix emulation environment. Main changes needed were
byacc instead of yacc, as well as flex instead of lex, in the Makefile. A
Makefile with all these changes is available in the MSDOS subdirectory.

<P>
Dealer's latest versions build and run fine using Microsoft Visual Studio
5 and 6 (still using byacc and flex if needed for syntax mods, but with no
other known dependency on Cygwin); there is a current dependency on the
Winsock2 DLL (for ntohs, ntohl functions) soon to be removed.

<HR>
<A HREF="authors.html"><IMG SRC="prev.gif" BORDER=0></A>
<A HREF="index.html"><IMG SRC="index.gif" BORDER=0></A>
<A HREF="input.html"><IMG SRC="next.gif" BORDER=0></A>

